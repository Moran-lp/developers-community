<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web Messaging </title>

</head>
<body>
<!--<div id="loader"></div>-->
<div class="liveperson-logo" style="display:none">
    <img src="img/Logo.svg" />
</div>
<div class="greeting-bot-header" style="display:none">
    Talk to your Greeting Bot
</div>
<div class="lp-tips-container" style="display:none">
    <div class="lp-tips-header">
        Things to try:
    </div>
    <ul>
        <li class="lp-tips-content">
            Type ‘Hi’ or anything else to get started
        </li>
        <li class="lp-tips-content" >
            Choose any option. All options and dialogs are fully customizable in Conversation Builder
        </li>
        <li class="lp-tips-content" >
            Choose 'Talk to an Agent' to connect with a human agent (you!).
        </li>
    </ul>
</div>
<div id="spotlight" class="spotlight-container" >
    <div class="spotlight-content-container" style="display: none">
        <div class="heading-h5">
            Start building with LivePerson by extending this greeting bot solution
        </div>
        <ul class="container-content">
            <li class="spotlight-content">
                Connect to mobile Channels
            </li>
            <li class="spotlight-content">
                Personalize the bot dialog
            </li>
            <li class="spotlight-content">
                Customizing routing rules
            </li>
            <li class="spotlight-content">
                Get started with Intents
            </li>
        </ul>
        <div class="hyperlink-learn">
            <a target="_blank" href="https://developers.liveperson.com/first-steps.html"
               alt=" Dev Center getting started">
                Lets Build
            </a>
        </div>
        <div class="heading-h5" style="margin-top:40px;">
            Want to learn how we built the Greeting Bot solution
            <a target="_blank" class="hyperlink-container" href="https://developers.liveperson.com/first-steps.html"
               alt="Dev Center Getting Started">
                Learn here.
            </a>
        </div>
        <div class="heading-h5" style="margin-top:40px;">
            Or, go back to continue exploring LivePerson
        </div>
    </div>
</div>
<script>

    function appendFTUE() {
        var styles = document.createElement('link');
        styles.rel = 'stylesheet';
        styles.id = 'ftue';
        styles.type = 'text/css';
        styles.href = 'css/ftue.css';
        document.getElementsByTagName('head')[0].appendChild(styles);
    };
    function appendOldStyle() {
        var styles = document.createElement('link');
        styles.rel = 'stylesheet';
        styles.id = 'style';
        styles.type = 'text/css';
        styles.href = 'css/style.css';
        document.getElementsByTagName('head')[0].appendChild(styles);
    };
    function removeStyleSheet(stylesheetId) {
        try {
            console.log('removing style sheet,', stylesheetId);
            var sheet = document.getElementById(stylesheetId);
            sheet.disabled = true;
            sheet.parentNode.removeChild(sheet);
        }catch(e){
            console.log('removing style sheet');
        }
    }
    function loadLPTag(env){
        if (env === "qa"){
            //QA
            console.log('QA TAG');
            <!-- BEGIN LivePerson Monitor. -->
            window.lpTag=window.lpTag||{},"undefined"==typeof window.lpTag._tagCount?(window.lpTag={site:site||"",section:lpTag.section||"",tagletSection:lpTag.tagletSection||null,autoStart:lpTag.autoStart!==!1,ovr:lpTag.ovr||{domain: 'lptag-dev.dev.lprnd.net', tagjs: 'lptag-dev.dev.lprnd.net'},_v:"1.7.0",_tagCount:1,protocol:"https:",events:{bind:function(t,e,i){lpTag.defer(function(){lpTag.events.bind(t,e,i)},0)},trigger:function(t,e,i){lpTag.defer(function(){lpTag.events.trigger(t,e,i)},1)}},defer:function(t,e){0==e?(this._defB=this._defB||[],this._defB.push(t)):1==e?(this._defT=this._defT||[],this._defT.push(t)):(this._defL=this._defL||[],this._defL.push(t))},load:function(t,e,i){var n=this;setTimeout(function(){n._load(t,e,i)},0)},_load:function(t,e,i){var n=t;t||(n=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);var a=document.createElement("script");a.setAttribute("charset",e?e:"UTF-8"),i&&a.setAttribute("id",i),a.setAttribute("src",n),document.getElementsByTagName("head").item(0).appendChild(a)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var t=this;window.attachEvent?window.attachEvent("onload",function(){t._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){t._domReady("contReady")},!1),window.addEventListener("load",function(){t._domReady("domReady")},!1)),"undefined"==typeof window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(t){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:t})),this._timing[t]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1;
            <!-- END LivePerson Monitor. -->
        } else if (env === "alpha"){
            console.log('Alpha TAG');
            //alpha
            <!-- BEGIN LivePerson Monitor. -->
            window.lpTag=window.lpTag||{},"undefined"==typeof window.lpTag._tagCount?(window.lpTag={site:site||"",section:lpTag.section||"",tagletSection:lpTag.tagletSection||null,autoStart:lpTag.autoStart!==!1,ovr:lpTag.ovr||{domain: 'lptag-a.liveperson.net', tagjs: 'lptag-a.liveperson.net'},_v:"1.7.0",_tagCount:1,protocol:"https:",events:{bind:function(t,e,i){lpTag.defer(function(){lpTag.events.bind(t,e,i)},0)},trigger:function(t,e,i){lpTag.defer(function(){lpTag.events.trigger(t,e,i)},1)}},defer:function(t,e){0==e?(this._defB=this._defB||[],this._defB.push(t)):1==e?(this._defT=this._defT||[],this._defT.push(t)):(this._defL=this._defL||[],this._defL.push(t))},load:function(t,e,i){var n=this;setTimeout(function(){n._load(t,e,i)},0)},_load:function(t,e,i){var n=t;t||(n=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);var a=document.createElement("script");a.setAttribute("charset",e?e:"UTF-8"),i&&a.setAttribute("id",i),a.setAttribute("src",n),document.getElementsByTagName("head").item(0).appendChild(a)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var t=this;window.attachEvent?window.attachEvent("onload",function(){t._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){t._domReady("contReady")},!1),window.addEventListener("load",function(){t._domReady("domReady")},!1)),"undefined"==typeof window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(t){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:t})),this._timing[t]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1;
            <!-- END LivePerson Monitor. -->
        } else {
            console.log('Production TAG');
            //load the production tag
            //Production
            <!-- BEGIN LivePerson Monitor. -->
            window.lpTag=window.lpTag||{},"undefined"==typeof window.lpTag._tagCount?(window.lpTag={site:site||"",section:lpTag.section||"",tagletSection:lpTag.tagletSection||null,autoStart:lpTag.autoStart!==!1,ovr:lpTag.ovr||{domain: 'lptag.liveperson.net', tagjs: 'lptag.liveperson.net'},_v:"1.7.0",_tagCount:1,protocol:"https:",events:{bind:function(t,e,i){lpTag.defer(function(){lpTag.events.bind(t,e,i)},0)},trigger:function(t,e,i){lpTag.defer(function(){lpTag.events.trigger(t,e,i)},1)}},defer:function(t,e){0==e?(this._defB=this._defB||[],this._defB.push(t)):1==e?(this._defT=this._defT||[],this._defT.push(t)):(this._defL=this._defL||[],this._defL.push(t))},load:function(t,e,i){var n=this;setTimeout(function(){n._load(t,e,i)},0)},_load:function(t,e,i){var n=t;t||(n=this.protocol+"//"+(this.ovr&&this.ovr.domain?this.ovr.domain:"lptag.liveperson.net")+"/tag/tag.js?site="+this.site);var a=document.createElement("script");a.setAttribute("charset",e?e:"UTF-8"),i&&a.setAttribute("id",i),a.setAttribute("src",n),document.getElementsByTagName("head").item(0).appendChild(a)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var t=this;window.attachEvent?window.attachEvent("onload",function(){t._domReady("domReady")}):(window.addEventListener("DOMContentLoaded",function(){t._domReady("contReady")},!1),window.addEventListener("load",function(){t._domReady("domReady")},!1)),"undefined"==typeof window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(t){this.isDom||(this.isDom=!0,this.events.trigger("LPT","DOM_READY",{t:t})),this._timing[t]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1;
            <!-- END LivePerson Monitor. -->
        }
    }

    function getURLParams(search) {
        var queryParams = {},
            queryArray, singleQuery;
        queryArray = search.substr(1).split("&");
        for (var i = 0; i < queryArray.length; i++) {
            if (queryArray[i].indexOf("=") > -0) {
                singleQuery = queryArray[i].split("=");
                if (singleQuery.length == 2) {
                    queryParams[decodeURIComponent(singleQuery[0])] = decodeURIComponent(singleQuery[1]);
                }
            }
        }
        return queryParams;
    }
    $(window).load(function() {      //Do the code in the {}s when the window has loaded
        var site = getURLParams(window.location.search).site || "";
        var username = getURLParams(window.location.search).username || "";
        var experience = getURLParams((window.location.search)).experience || "";
        var env = getURLParams((window.location.search)).env || "";
        if (experience === "first_time" && site !== "") {
            appendFTUE();
        } else {
            console.log('navigate to old url');
            location.replace("/web-messaging/index.html");
        }
        loadLPTag(env);
    });
    var site = getURLParams(window.location.search).site || "";
    var username = getURLParams(window.location.search).username || "";
    var experience = getURLParams((window.location.search)).experience || "";
    var env = getURLParams((window.location.search)).env || "";



    function copyToClipboard() {
        /* Get the text field */
        new ClipboardJS('.copy', {
            container: document.getElementById('modal')
        });
    }
</script>

<script src="script.js"></script>

<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
</script>
<script src="js/bootstrap.min.js"></script>
<script src="js/spotlight.js"></script>
</body>
</html>